<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    'use strict'
    const quiz = {
      questions: [
        [0, 2, 1, 3, 4, 2, 3, 4, 1, 3, 2, 3, 4, 1, 4, 3, 2, 3, 1, 4, 3,],
        'rose, oak, tulip, daffodil',
        'bright, yellow, orange, green',
        'plum, apple, onion, pear',
        'cat, dog, horse, pigeon',
        'sofa, coat, table, chair',
        'grape, carrot, leek, lettuce',
        'seven, thirty, eighteen, once',
        'Belgian, Denmark, Brazil, Japan',
        'cap, helmet, belt, hat',
        'brother, niece, grandfather, uncle',
        'car, bus, ship, van',
        'cheese, bread, sausages, coffee',
        'painting, rugby, skiing, tennis',
        'milk, water, tea, petrol',
        'spoon, knife, cup, fork',
        'fly, mouse, spider, ant',
        'bed, pillow, washing machine, mattress',
        'Amanda, Peter, Michael, David',
        'garden, hall, lawn, fence',
        'post office, library, park, hotel',
      ],

      userScores: [{ $name: 'ser', score: 20, date: },],

      begin: function () {
        let $currentUser = prompt('Hello, player! Name yourself');
        let $score = null;

        function userExistanceCheck() {
          let userExists = quiz.userScores.findIndex(user => user.$name == $currentUser);

          if (Number.userExists === -1) {
            quiz.userScores.push([$currentUser, $score]);

          } else {
            quiz.userScores.splice(+userExists - 1, 1, [$currentUser, $score]);

          }
        }

        for (let i = 1; i < this.questions.length; i++) {

          let answer = +prompt(`\n     <  ${this.questions[i]}  > \n \n < choose with number from 1 to 4, what's excess > \n < type '0' or click 'Cancel' to quit > `);

          if (answer == this.questions[0][i]) {
            $score++
            console.log(` Congratulations, ${$currentUser}! \n you're one point ahead!your score is:  ` + ($score));
            alert(` Congratulations, ${$currentUser}! \n you're one point ahead!your score is:  ` + ($score));

          } else if (answer == 0 || answer == null || i >= this.questions.length) {

            console.log(` Bye ${$currentUser}!\n your score is ${$score} \n You can start over any time..`);
            alert(` Bye ${$currentUser}!\n your score is ${$score} \n You can start over any time..`);
            userExistanceCheck()
            return

          } else if (!+this.questions[0].includes(answer)) {

            console.log('You can only use <1, 2, 3, 4> keys to choose an answer. \n Use <0> or <Cancel> if you want to quit');
            alert('You can only use <1, 2, 3, 4> keys to choose an answer. \n Use <0> or <Cancel> if you want to quit');
            i--

          } else {

            console.log(`wrong! your score still: ${$score}`);
            alert(`wrong! your score still:   ${$score}`);

          }
        }
      }
    };
    quiz.begin()
  </script>
</body>

</html>