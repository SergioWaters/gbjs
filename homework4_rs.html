<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lesson 4 HomeWork</title>
</head>

<body>
  <script>

    /*
    Сначала прочитайте памятку о домашнем задании:
    https://docs.google.com/document/d/1-wLPp7khnRijyFkAKA4oN2ZGkCxudDkaTwVuXhqBUeo/edit?usp=sharing
    
    1. (это задание делайте по желанию)
    Написать функцию, преобразующую число в объект.
    Передавая на вход число в диапазоне [0, 999],
    мы должны получить на выходе объект, в котором в соответствующих свойствах описаны разряды числа:
     - единицы (в свойстве units)
     - десятки (в свойстве tens)
     - сотни (в свойстве hundereds)
    Например, для числа 45 мы должны получить следующий объект:    
    {
      units: 5, //это единицы
      tens: 4,  //это десятки
      hundreds: 0, //это сотни
    }   
    Если число было передано вне [0, 999] диапазона, не целое число или вообще не число,
    необходимо выдать соответствующее сообщение с помощью console.log и вернуть пустой объект.
    
    Вам может пригодиться:
    - Number.isInteger(value) – функция проверяет, является ли переданное число целым, подробнее
    здесь https://mzl.la/2XCVSsx
    - Math.floor(value) - метод возвращает целое число, которое меньше или равно
    данному числу (проще говоря округляет в меньшую сторону), подробнее здесь https://mzl.la/2Qx42SO
    - Используйте также остаток от деления на 10, например 123 % 10 будет 3
    - Вам также может пригодится делить число на 100 и на 10.
    */

    'use strict'
    const numToObj = {
      units: null,
      tens: null,
      hundreds: null,
      getValue: function (getValue) {
        let $value = prompt('put your integer number from 0 to 999');
        if (+$value <= 0 || +$value > 999) {
          console.log($value + ' not 0 - 999');
          return
        } else if ($value == undefined) {
          console.log($value + ' undefined');
          return
        } else if (isNaN(+$value)) {
          console.log($value + ' is NaN');
          return
        } else if (!Number.isInteger(+$value)) {
          console.log($value + ' is not integer');
          return
        } else {
          this.getValue = $value;
          this.units = $value % 10;
          this.tens = Math.floor($value / 10);
          this.hundreds = Math.floor($value / 100);
          console.log(this)
          return this;
        }
      }
    };
    numToObj.getValue();

    /*
    1.1 (это обязательное задание) Сделайте в стиле es5, а затем в стиле es6 (по аналогии из дополнительных видео -> 3 примеры наследования -> типы на es5 и es6),
    конструктор Product, который принимает параметры name и price, сохраните их как свойства объекта. 
    Также объекты типа Product должны иметь метод make25PercentDiscount, который будет уменьшать цену в объекте на 25%. 
    Имейте в виду, что метод make25PercentDiscount
    не должен быть внутри функции-конструктора, и также не нужно создавать отдельный объект-прототип
    (как объект transport в уроке).
    */
    //ES5
    'use strict'
    function ProductEs5(name, price) {
      this.name = name,
        this.price = price
    };
    ProductEs5.prototype.make25PercentDiscount = function () {
      this.price = this.price * 0.75
    };


    //ES6
    'use strict'
    class ProductEs6 {
      constructor(name, price) {
        this.name = name;
        this.price = price;
      }
    };
    ProductEs5.prototype.make25PercentDiscount = function () {
      this.price = this.price * 0.75
    };



    /*
    1.2 (это обязательное задание) Сделайте в стиле es5, а затем в стиле es6 (по
    аналогии из дополнительных видео -> 3 примеры наследования -> механика наследования),
    а) конструктор Post, который принимает параметры author, text, date и сохраняет
    их как свойства объекта. Объекты типа Post должны иметь метод edit, который будет принимать текст и записывать его в свойство text объекта.
    */
    //ES5
    'use strict'
    function PostEs5(author, price, date) {
      this.author = author;
      this.text = text;
      this.date = date;
    };
    PostEs5.prototype.edit = function () {
      this.text = prompt('Hello, put your text here')
    };


    //ES6
    'use strict'
    class PostEs6 {
      constructor(author, price, date) {
        this.author = author;
        this.text = text;
        this.date = date;
      }
    };
    PostEs6.prototype.edit = function () {
      this.text = prompt('Hello, put your text here')
    };


    /*
    б) конструктор AttachedPost, который принимает параметры author, text, date.
    Проинициализируйте эти свойства с помощью конструктора Post, чтобы не
    дублировать код. Также в конструкторе AttachedPost должно создаваться свойство
    highlighted со значением false. Унаследуйте в объектах типа AttachedPost методы из Post.
    Объекты типа AttachedPost должны иметь метод makeTextHighlighted,
    который будет назначать свойству highlighted значение true.
    */
    //ES5
    'use strict'
    function PostEs5(author, text, date) {
      this.author = author;
      this.text = text;
      this.date = date;
    }
    PostEs5.prototype.edit = function (edit) {
      this.text = prompt('Hello, put your text here')
    };
    //create child
    function AttachedPostEs5(highlighted) {
      PostEs5.apply(this);
      this.highlighted = highlighted;
    }
    AttachedPostEs5.prototype.makeTextHighlighted = function () {
      this.highlighted = true;
    };
    //legacy
    AttachedPostEs5.prototype = Object.create(PostEs5.prototype);
    AttachedPostEs5.prototype.constructor = AttachedPostEs5;


    //ES6
    'use strict'
    class PostEs6 {
      constructor(author, text, date) {
        this.author = author;
        this.text = text;
        this.date = date;
      }
    }
    PostEs6.prototype.edit = function () {
      this.text = prompt('Hello, put your text here')
    };
    //create child
    class AttachedPostEs6 extends PostEs6 {
      constructor(highlighted) {
        super();
        this.highlighted = highlighted;
      }
    }
    AttachedPostEs6.prototype.makeTextHighlighted = function () {
      this.highlighted = true;
    };

    /**
     * Игра выбери лишнее.
     * questions[] это массив с вопросами, в нулевом индексе вложенный массив с ответами. индекс 1 родительского массива, соответствует индексу 1 дочернего массива.
     * игра приветствует игрока и просит представиться, в этот момент создается свойство объекта с именем игрока и туда записывается его счет, каждый раз при правильном ответе.
     * вопрос задается посредством prompt и записывает ответ игрока в локальную переменную answer
     * если игрок отвечает верно, ему добавляется один балл в переменную 
     * игрок отвечает на вопрос вводом цифр от 1 до 4. по нажатию 0 или отмены в prompt, игра завершается, выводит баллы в консоль и приглашает игрока сыграть заново позже
     * если игрок ввел символ, отличающийся от 0-4 или null, игра выведет alert с напоминанием о том, как правильно вводить ответы.
     * после вывода alert, игра продолжится с того же места.
     * запуск игры quiz.begin() 
     *  */
    'use strict'
    const quiz = {
      questions: [
        [0, 2, 1, 3, 4, 2, 3, 4, 1, 3, 2, 3, 4, 1, 4, 3, 2, 3, 1, 4, 3,],
        'rose, oak, tulip, daffodil',
        'bright, yellow, orange, green',
        'plum, apple, onion, pear',
        'cat, dog, horse, pigeon',
        'sofa, coat, table, chair',
        'grape, carrot, leek, lettuce',
        'seven, thirty, eighteen, once',
        'Belgian, Denmark, Brazil, Japan',
        'cap, helmet, belt, hat',
        'brother, niece, grandfather, uncle',
        'car, bus, ship, van',
        'cheese, bread, sausages, coffee',
        'painting, rugby, skiing, tennis',
        'milk, water, tea, petrol',
        'spoon, knife, cup, fork',
        'fly, mouse, spider, ant',
        'bed, pillow, washing machine, mattress',
        'Amanda, Peter, Michael, David',
        'garden, hall, lawn, fence',
        'post office, library, park, hotel',
      ],

      begin: function () {
        let $currentUser = prompt('Hello, player! Name yourself');
        let $score = null;
        for (let i = 1; i < this.questions.length; i++) {

          let answer = +prompt(`<  ${this.questions[i]}  > \n < choose with number from 1 to 4, what's excess > \n < type '0' or click 'Cancel' to quit > `);

          if (answer == this.questions[0][i]) {
            $score++
            console.log(` Congratulations, ${$currentUser}! \n you're one point ahead!your score is:  ` + ($score));
            alert(` Congratulations, ${$currentUser}! \n you're one point ahead!your score is:  ` + ($score));
            this[$currentUser] = $score;

          } else if (answer == 0 || answer == null) {

            console.log(` Bye ${$currentUser}!\n your score is ${$score} \n You can start over any time..`);
            alert(` Bye ${$currentUser}!\n your score is ${$score} \n You can start over any time..`);
            return

          } else if (!+this.questions[0].includes(answer)) {

            console.log('You can only use <1, 2, 3, 4> keys to choose an answer. \n Use <0> or <Cancel> if you want to quit');
            alert('You can only use <1, 2, 3, 4> keys to choose an answer. \n Use <0> or <Cancel> if you want to quit');
            i--

          } else {
            console.log(`wrong! your score still is: ${$score}`);
            alert(`wrong! your score still is:   ${$score}`);
          }
        }
      }
    };
    quiz.begin()

    /*
    2 (это задание не является частью учебной программы, делайте его по желанию).
    Для игры бродилка (которая есть в дополнительных видео), добавить возможность
    ходить по диагонали цифрами 1, 3, 7, 9.
    Также необходимо сделать так, чтобы пользователь не мог совершить шаг в стенку,
    т.е. при направлении в стенку и игрок оставался на том же месте где стоял.
    */
    /*
    3 (это задание не является частью учебной программы, делайте его по желанию). На базе
    игры (приняв за пример), созданной в дополнительных видео, реализовать
    игру «Кто хочет стать миллионером?».
    Т.е. у вас должен быть главный объект, содержащий всю логику игры, который будет
    иметь методы, например
    метод run, возможно метод init и т.д.
    В игре должны быть заранее подготовлены список вопросов и ответов (как минимум 5 вопросов).
    Игра должна приветствовать пользователя, после чего задавать вопросы пользователю и
    предлагать варианты
    ответов в виде теста, например:
    Сколько букв в слове "привет":
    a. Пять.
    b. Шесть.
    c. Семь.
    d. Куда я попал?
    Проверять правильный вариант выбрал пользователь или нет, необходимо вести счет.
    По окончании игры, когда было задано 5 вопросов, вы должны сообщить пользователю его счет и предложить
    сыграть снова.
    Также должна быть возможность выхода из игры заранее, если пользователю надоело играть.
    */



  </script>
</body>

</html>